{"ast":null,"code":"export function login(user, pass) {\n  return function (dispatch) {\n    axios.post(\"\".concat(API_URL, \"/auth\"), {\n      user: user,\n      pass: pass\n    }).then(function (res) {\n      dispatch(loginSuccess(res.data, user));\n      var token = res.data.token;\n      axios.defaults.headers.common[\"Authorization\"] = token;\n      history.push(\"/\");\n    }).catch(function (err) {\n      if (err.response.status === 401) {\n        dispatch(loginFailure(err));\n      }\n    });\n  };\n}","map":{"version":3,"sources":["/Users/tats/Documents/JOBS/Elecsis/tech-assessment/elecsis-assessment/src/services/login.js"],"names":["login","user","pass","dispatch","axios","post","API_URL","then","res","loginSuccess","data","token","defaults","headers","common","history","push","catch","err","response","status","loginFailure"],"mappings":"AAEA,OAAO,SAASA,KAAT,CAAeC,IAAf,EAAqBC,IAArB,EAA2B;AAChC,SAAO,UAAUC,QAAV,EAAoB;AACzBC,IAAAA,KAAK,CACFC,IADH,WACWC,OADX,YAC2B;AAAEL,MAAAA,IAAI,EAAJA,IAAF;AAAQC,MAAAA,IAAI,EAAJA;AAAR,KAD3B,EAEGK,IAFH,CAEQ,UAACC,GAAD,EAAS;AACbL,MAAAA,QAAQ,CAACM,YAAY,CAACD,GAAG,CAACE,IAAL,EAAWT,IAAX,CAAb,CAAR;AACA,UAAMU,KAAK,GAAGH,GAAG,CAACE,IAAJ,CAASC,KAAvB;AACAP,MAAAA,KAAK,CAACQ,QAAN,CAAeC,OAAf,CAAuBC,MAAvB,CAA8B,eAA9B,IAAiDH,KAAjD;AACAI,MAAAA,OAAO,CAACC,IAAR,CAAa,GAAb;AACD,KAPH,EAQGC,KARH,CAQS,UAACC,GAAD,EAAS;AACd,UAAIA,GAAG,CAACC,QAAJ,CAAaC,MAAb,KAAwB,GAA5B,EAAiC;AAC/BjB,QAAAA,QAAQ,CAACkB,YAAY,CAACH,GAAD,CAAb,CAAR;AACD;AACF,KAZH;AAaD,GAdD;AAeD","sourcesContent":["\n\nexport function login(user, pass) {\n  return function (dispatch) {\n    axios\n      .post(`${API_URL}/auth`, { user, pass })\n      .then((res) => {\n        dispatch(loginSuccess(res.data, user));\n        const token = res.data.token;\n        axios.defaults.headers.common[\"Authorization\"] = token;\n        history.push(\"/\");\n      })\n      .catch((err) => {\n        if (err.response.status === 401) {\n          dispatch(loginFailure(err));\n        }\n      });\n  };\n}\n"]},"metadata":{},"sourceType":"module"}